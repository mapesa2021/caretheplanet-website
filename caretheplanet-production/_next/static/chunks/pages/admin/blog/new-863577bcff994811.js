(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[299],{4570:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/blog/new",function(){return r(8937)}])},8937:function(e,t,r){"use strict";r.r(t);var a=r(5893),n=r(7294),o=r(9008),s=r.n(o),i=r(1664),l=r.n(i),c=r(1163),d=r(3465);t.default=()=>{let[e,t]=(0,n.useState)(!1),[r,o]=(0,n.useState)(!0),[i,u]=(0,n.useState)(!1),[m,g]=(0,n.useState)({title:"",excerpt:"",content:"",author:"",category:"",image:"",readTime:"",status:"draft"}),h=(0,c.useRouter)();(0,n.useEffect)(()=>{localStorage.getItem("adminToken")&&t(!0),o(!1)},[]),(0,n.useEffect)(()=>{r||e||h.push("/admin/login")},[r,e,h]);let f=e=>{let{name:t,value:r}=e.target;g(e=>({...e,[t]:r}))},x=async e=>{e.preventDefault(),u(!0);try{let e=(0,d.w0)({title:m.title,excerpt:m.excerpt,content:m.content,author:m.author,category:m.category,image:m.image,readTime:m.readTime,status:m.status,date:new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})});console.log("New blog post created:",e),h.push("/admin/blog")}catch(e){console.error("Error creating blog post:",e),alert("Error creating blog post. Please try again.")}finally{u(!1)}};return r?(0,a.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-eco-green mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})}):e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s(),{children:[(0,a.jsx)("title",{children:"Create New Blog Post - CareThePlanet Admin"}),(0,a.jsx)("meta",{name:"description",content:"Create a new blog post for CareThePlanet website"})]}),(0,a.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,a.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(l(),{href:"/admin",className:"mr-4",children:(0,a.jsx)("div",{className:"w-8 h-8 bg-eco-green rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-bold text-sm",children:"\uD83C\uDF31"})})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Blog Post"})]}),(0,a.jsx)("div",{className:"flex items-center space-x-4",children:(0,a.jsx)(l(),{href:"/admin/blog",className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors duration-200",children:"Back to Blog"})})]})})}),(0,a.jsx)("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-8",children:(0,a.jsxs)("form",{onSubmit:x,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Post Title *"}),(0,a.jsx)("input",{type:"text",id:"title",name:"title",required:!0,value:m.title,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent",placeholder:"Enter the blog post title"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"excerpt",className:"block text-sm font-medium text-gray-700 mb-2",children:"Excerpt *"}),(0,a.jsx)("textarea",{id:"excerpt",name:"excerpt",required:!0,rows:3,value:m.excerpt,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent",placeholder:"Brief description of the post (will appear in previews)"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Content *"}),(0,a.jsx)("textarea",{id:"content",name:"content",required:!0,rows:12,value:m.content,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent font-mono text-sm",placeholder:"Write your blog post content here..."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"author",className:"block text-sm font-medium text-gray-700 mb-2",children:"Author *"}),(0,a.jsx)("input",{type:"text",id:"author",name:"author",required:!0,value:m.author,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent",placeholder:"Author name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),(0,a.jsxs)("select",{id:"category",name:"category",required:!0,value:m.category,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent",children:[(0,a.jsx)("option",{value:"",children:"Select a category"}),["Climate Action","Sustainability","Community","Technology","Ocean","Urban","Wildlife","Education"].map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"image",className:"block text-sm font-medium text-gray-700 mb-2",children:"Image Emoji"}),(0,a.jsx)("input",{type:"text",id:"image",name:"image",value:m.image,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent",placeholder:"\uD83C\uDF33 (emoji for the post)"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"readTime",className:"block text-sm font-medium text-gray-700 mb-2",children:"Read Time"}),(0,a.jsx)("input",{type:"text",id:"readTime",name:"readTime",value:m.readTime,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent",placeholder:"5 min read"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,a.jsxs)("select",{id:"status",name:"status",value:m.status,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent",children:[(0,a.jsx)("option",{value:"draft",children:"Draft"}),(0,a.jsx)("option",{value:"published",children:"Published"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[(0,a.jsx)(l(),{href:"/admin/blog",className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:i,className:"px-6 py-2 bg-eco-green hover:bg-eco-dark text-white rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Saving...":"Save Post"})]})]})})})]})]}):null}},3465:function(e,t,r){"use strict";r.d(t,{Kx:function(){return s},Qu:function(){return l},Wf:function(){return u},XD:function(){return i},aY:function(){return d},nb:function(){return c},p7:function(){return m},u3:function(){return a},w0:function(){return o}});let a=()=>{let e=localStorage.getItem("caretheplanet_blog_posts");if(e)return JSON.parse(e);let t=[{id:1,title:"The Impact of Tree Planting on Climate Change",excerpt:"Discover how strategic tree planting initiatives can significantly reduce carbon emissions and combat global warming.",content:"This is the full content of the blog post about tree planting and climate change...",author:"Dr. Sarah Johnson",date:"August 15, 2024",readTime:"5 min read",category:"Climate Action",image:"\uD83C\uDF33",status:"published",createdAt:"2024-08-15T10:00:00Z",updatedAt:"2024-08-15T10:00:00Z"},{id:2,title:"Sustainable Living: Small Changes, Big Impact",excerpt:"Learn about simple daily habits that can make a substantial difference in reducing your environmental footprint.",content:"This is the full content of the blog post about sustainable living...",author:"Michael Chen",date:"August 12, 2024",readTime:"4 min read",category:"Sustainability",image:"♻️",status:"published",createdAt:"2024-08-12T10:00:00Z",updatedAt:"2024-08-12T10:00:00Z"},{id:3,title:"Community-Led Conservation Success Stories",excerpt:"Explore inspiring stories of communities around the world that have successfully restored their local ecosystems.",content:"This is the full content of the blog post about community conservation...",author:"Maria Rodriguez",date:"August 10, 2024",readTime:"6 min read",category:"Community",image:"\uD83C\uDF0D",status:"draft",createdAt:"2024-08-10T10:00:00Z",updatedAt:"2024-08-10T10:00:00Z"}];return localStorage.setItem("caretheplanet_blog_posts",JSON.stringify(t)),t},n=e=>{localStorage.setItem("caretheplanet_blog_posts",JSON.stringify(e))},o=e=>{let t=a(),r={...e,id:Date.now(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return t.push(r),n(t),r},s=(e,t)=>{let r=a(),o=r.findIndex(t=>t.id===e);return -1===o?null:(r[o]={...r[o],...t,updatedAt:new Date().toISOString()},n(r),r[o])},i=e=>{let t=a(),r=t.filter(t=>t.id!==e);return r.length!==t.length&&(n(r),!0)},l=()=>{let e=localStorage.getItem("caretheplanet_hero_images");if(e)return JSON.parse(e);let t=[{id:1,src:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",alt:"Majestic mountains with snow-capped peaks above clouds",title:"Protecting Our Mountains",order:1},{id:2,src:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2071&q=80",alt:"Lush green forest with sunlight filtering through trees",title:"Restoring Forests",order:2},{id:3,src:"https://images.unsplash.com/photo-1518837695005-2083093ee35b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",alt:"Person planting a tree in a forest",title:"Planting Trees Together",order:3},{id:4,src:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2073&q=80",alt:"Beautiful sunset over ocean waves",title:"Protecting Our Oceans",order:4},{id:5,src:"https://images.unsplash.com/photo-1549366021-9f761d450615?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",alt:"Wildlife in natural habitat",title:"Preserving Wildlife",order:5}];return localStorage.setItem("caretheplanet_hero_images",JSON.stringify(t)),t},c=e=>{localStorage.setItem("caretheplanet_hero_images",JSON.stringify(e))},d=(e,t)=>{let r=l(),a=r.findIndex(t=>t.id===e);return -1===a?null:(r[a]={...r[a],...t},c(r),r[a])},u=e=>{let t=l(),r={...e,id:Date.now()};return t.push(r),c(t),r},m=e=>{let t=l(),r=t.filter(t=>t.id!==e);return r.length!==t.length&&(c(r),!0)}},1163:function(e,t,r){e.exports=r(2937)}},function(e){e.O(0,[996,774,888,179],function(){return e(e.s=4570)}),_N_E=e.O()}]);