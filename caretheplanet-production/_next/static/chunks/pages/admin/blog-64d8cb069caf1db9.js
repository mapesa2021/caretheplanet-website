(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[394],{7349:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/blog",function(){return s(9590)}])},9590:function(e,t,s){"use strict";s.r(t);var a=s(5893),r=s(7294),i=s(9008),n=s.n(i),l=s(1664),o=s.n(l),c=s(1163),d=s(3465);t.default=()=>{let[e,t]=(0,r.useState)(!1),[s,i]=(0,r.useState)(!0),[l,u]=(0,r.useState)([]),[x,h]=(0,r.useState)(""),[m,g]=(0,r.useState)("all"),p=(0,c.useRouter)();(0,r.useEffect)(()=>{localStorage.getItem("adminToken")&&t(!0),i(!1)},[]),(0,r.useEffect)(()=>{s||e||p.push("/admin/login")},[s,e,p]),(0,r.useEffect)(()=>{u((0,d.u3)())},[]);let f=e=>{window.confirm("Are you sure you want to delete this blog post?")&&(0,d.XD)(e)&&u(t=>t.filter(t=>t.id!==e))},b=e=>{let t=l.find(t=>t.id===e);if(t){let s="published"===t.status?"draft":"published",a=(0,d.Kx)(e,{status:s});a&&u(t=>t.map(t=>t.id===e?a:t))}},w=l.filter(e=>{let t=e.title.toLowerCase().includes(x.toLowerCase())||e.excerpt.toLowerCase().includes(x.toLowerCase())||e.author.toLowerCase().includes(x.toLowerCase()),s="all"===m||e.category===m;return t&&s}),y=["all",...Array.from(new Set(l.map(e=>e.category)))];return s?(0,a.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-eco-green mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})}):e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n(),{children:[(0,a.jsx)("title",{children:"Blog Management - CareThePlanet Admin"}),(0,a.jsx)("meta",{name:"description",content:"Manage blog posts for CareThePlanet website"})]}),(0,a.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,a.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(o(),{href:"/admin",className:"mr-4",children:(0,a.jsx)("div",{className:"w-8 h-8 bg-eco-green rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-bold text-sm",children:"\uD83C\uDF31"})})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Blog Management"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(o(),{href:"/admin/blog/new",className:"bg-eco-green hover:bg-eco-dark text-white px-4 py-2 rounded-lg transition-colors duration-200",children:"+ New Post"}),(0,a.jsx)(o(),{href:"/admin",className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors duration-200",children:"Back to Dashboard"})]})]})})}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Posts"}),(0,a.jsx)("input",{type:"text",id:"search",value:x,onChange:e=>h(e.target.value),placeholder:"Search by title, excerpt, or author...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,a.jsx)("select",{id:"category",value:m,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-eco-green focus:border-transparent",children:y.map(e=>(0,a.jsx)("option",{value:e,children:"all"===e?"All Categories":e},e))})]}),(0,a.jsx)("div",{className:"flex items-end",children:(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",w.length," of ",l.length," posts"]})})]})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Blog Posts"})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Post"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Author"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0 h-12 w-12 bg-eco-pale rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-2xl",children:e.image})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[e.excerpt.substring(0,60),"..."]})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.author}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-eco-pale text-eco-green",children:e.category})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("published"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.date}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>b(e.id),className:"px-3 py-1 rounded text-xs ".concat("published"===e.status?"bg-yellow-100 text-yellow-800 hover:bg-yellow-200":"bg-green-100 text-green-800 hover:bg-green-200"),children:"published"===e.status?"Unpublish":"Publish"}),(0,a.jsx)(o(),{href:"/admin/blog/edit/".concat(e.id),className:"px-3 py-1 bg-blue-100 text-blue-800 rounded text-xs hover:bg-blue-200",children:"Edit"}),(0,a.jsx)("button",{onClick:()=>f(e.id),className:"px-3 py-1 bg-red-100 text-red-800 rounded text-xs hover:bg-red-200",children:"Delete"})]})})]},e.id))})]})})]})]})]})]}):null}},3465:function(e,t,s){"use strict";s.d(t,{Kx:function(){return n},Qu:function(){return o},Wf:function(){return u},XD:function(){return l},aY:function(){return d},nb:function(){return c},p7:function(){return x},u3:function(){return a},w0:function(){return i}});let a=()=>{let e=localStorage.getItem("caretheplanet_blog_posts");if(e)return JSON.parse(e);let t=[{id:1,title:"The Impact of Tree Planting on Climate Change",excerpt:"Discover how strategic tree planting initiatives can significantly reduce carbon emissions and combat global warming.",content:"This is the full content of the blog post about tree planting and climate change...",author:"Dr. Sarah Johnson",date:"August 15, 2024",readTime:"5 min read",category:"Climate Action",image:"\uD83C\uDF33",status:"published",createdAt:"2024-08-15T10:00:00Z",updatedAt:"2024-08-15T10:00:00Z"},{id:2,title:"Sustainable Living: Small Changes, Big Impact",excerpt:"Learn about simple daily habits that can make a substantial difference in reducing your environmental footprint.",content:"This is the full content of the blog post about sustainable living...",author:"Michael Chen",date:"August 12, 2024",readTime:"4 min read",category:"Sustainability",image:"♻️",status:"published",createdAt:"2024-08-12T10:00:00Z",updatedAt:"2024-08-12T10:00:00Z"},{id:3,title:"Community-Led Conservation Success Stories",excerpt:"Explore inspiring stories of communities around the world that have successfully restored their local ecosystems.",content:"This is the full content of the blog post about community conservation...",author:"Maria Rodriguez",date:"August 10, 2024",readTime:"6 min read",category:"Community",image:"\uD83C\uDF0D",status:"draft",createdAt:"2024-08-10T10:00:00Z",updatedAt:"2024-08-10T10:00:00Z"}];return localStorage.setItem("caretheplanet_blog_posts",JSON.stringify(t)),t},r=e=>{localStorage.setItem("caretheplanet_blog_posts",JSON.stringify(e))},i=e=>{let t=a(),s={...e,id:Date.now(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return t.push(s),r(t),s},n=(e,t)=>{let s=a(),i=s.findIndex(t=>t.id===e);return -1===i?null:(s[i]={...s[i],...t,updatedAt:new Date().toISOString()},r(s),s[i])},l=e=>{let t=a(),s=t.filter(t=>t.id!==e);return s.length!==t.length&&(r(s),!0)},o=()=>{let e=localStorage.getItem("caretheplanet_hero_images");if(e)return JSON.parse(e);let t=[{id:1,src:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",alt:"Majestic mountains with snow-capped peaks above clouds",title:"Protecting Our Mountains",order:1},{id:2,src:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2071&q=80",alt:"Lush green forest with sunlight filtering through trees",title:"Restoring Forests",order:2},{id:3,src:"https://images.unsplash.com/photo-1518837695005-2083093ee35b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",alt:"Person planting a tree in a forest",title:"Planting Trees Together",order:3},{id:4,src:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2073&q=80",alt:"Beautiful sunset over ocean waves",title:"Protecting Our Oceans",order:4},{id:5,src:"https://images.unsplash.com/photo-1549366021-9f761d450615?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",alt:"Wildlife in natural habitat",title:"Preserving Wildlife",order:5}];return localStorage.setItem("caretheplanet_hero_images",JSON.stringify(t)),t},c=e=>{localStorage.setItem("caretheplanet_hero_images",JSON.stringify(e))},d=(e,t)=>{let s=o(),a=s.findIndex(t=>t.id===e);return -1===a?null:(s[a]={...s[a],...t},c(s),s[a])},u=e=>{let t=o(),s={...e,id:Date.now()};return t.push(s),c(t),s},x=e=>{let t=o(),s=t.filter(t=>t.id!==e);return s.length!==t.length&&(c(s),!0)}},1163:function(e,t,s){e.exports=s(2937)}},function(e){e.O(0,[996,774,888,179],function(){return e(e.s=7349)}),_N_E=e.O()}]);